<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fort Worth Property Scout</title>
    <style>
        :root { --primary:#1E3A5F; --secondary:#2E7D32; --accent:#FF6B35; --success:#4CAF50; --danger:#F44336; --bg:#0D1117; --card-bg:#161B22; --text:#E6EDF3; --text2:#8B949E; --border:#30363D; --hover:#21262D; }
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:system-ui,sans-serif; background:var(--bg); color:var(--text); min-height:100vh; }
        .header { background:linear-gradient(135deg,var(--primary),var(--bg)); padding:1.5rem 2rem; border-bottom:1px solid var(--border); display:flex; justify-content:space-between; align-items:center; }
        .logo { width:48px;height:48px;background:var(--secondary);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:24px; }
        .title h1 { font-size:1.5rem;background:linear-gradient(90deg,var(--text),var(--secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent; }
        .title p { color:var(--text2);font-size:0.875rem; }
        .nav { display:flex;gap:0.5rem;padding:1rem 2rem;background:var(--card-bg);border-bottom:1px solid var(--border); }
        .nav button { background:transparent;border:none;color:var(--text2);padding:0.75rem 1.5rem;border-radius:8px;cursor:pointer;font-weight:500; }
        .nav button.active { background:var(--secondary);color:#fff; }
        .main { padding:1.5rem 2rem;max-width:1600px;margin:0 auto; }
        .kpi-grid { display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:1.5rem; }
        @media(max-width:1200px){.kpi-grid{grid-template-columns:repeat(2,1fr)}}
        @media(max-width:600px){.kpi-grid{grid-template-columns:1fr}}
        .kpi-card { background:var(--card-bg);border:1px solid var(--border);border-radius:12px;padding:1.25rem;cursor:pointer;transition:0.3s;position:relative; }
        .kpi-card:hover { border-color:var(--secondary);transform:translateY(-2px);box-shadow:0 8px 25px rgba(46,125,50,0.3); }
        .kpi-card:hover .kpi-details { display:block; }
        .kpi-details { display:none;position:absolute;top:100%;left:-1px;right:-1px;background:var(--card-bg);border:1px solid var(--secondary);border-radius:0 0 12px 12px;padding:1rem;z-index:100;box-shadow:0 10px 40px rgba(0,0,0,0.5); }
        .kpi-details h4 { color:var(--secondary);font-size:0.7rem;text-transform:uppercase;margin-bottom:0.5rem; }
        .kpi-details p { font-size:0.8rem;color:var(--text);margin:0.3rem 0; }
        .kpi-label { color:var(--text2);font-size:0.875rem;margin-bottom:0.5rem; }
        .kpi-value { font-size:2rem;font-weight:700; }
        .kpi-value.success{color:var(--success)}.kpi-value.danger{color:var(--danger)}.kpi-value.accent{color:var(--accent)}
        .kpi-change{font-size:0.75rem;margin-top:0.5rem;}
        .kpi-change.up{color:var(--success)}.kpi-change.down{color:var(--danger)}
        .charts-grid { display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem;margin-bottom:1.5rem; }
        @media(max-width:900px){.charts-grid{grid-template-columns:1fr}}
        .chart-card { background:var(--card-bg);border:1px solid var(--border);border-radius:12px;padding:1.25rem; }
        .chart-title { font-size:1rem;font-weight:600;margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center; }
        .chart-hint { font-size:0.7rem;color:var(--text2);font-weight:normal; }
        .bar-chart { display:flex;flex-direction:column;gap:0.5rem; }
        .bar-row { display:flex;align-items:center;gap:0.5rem; }
        .bar-label { width:110px;font-size:0.75rem;color:var(--text2); }
        .bar-container { flex:1;height:35px;background:var(--hover);border-radius:6px;overflow:hidden;cursor:pointer;transition:0.2s; }
        .bar-container:hover { background:var(--primary); }
        .bar-fill { height:100%;background:var(--secondary);display:flex;align-items:center;padding-left:0.5rem;font-size:0.75rem;color:#fff;transition:0.3s; }
        .bar-container:hover .bar-fill { background:var(--success); }
        .bar-count { width:40px;text-align:right;font-size:0.75rem;color:var(--text2); }
        .table-card { background:var(--card-bg);border:1px solid var(--border);border-radius:12px;overflow:hidden; }
        .table-header { padding:1rem 1.25rem;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem; }
        .table-filters { display:flex;gap:0.5rem;flex-wrap:wrap; }
        .filter-btn { background:var(--hover);border:1px solid var(--border);color:var(--text2);padding:0.5rem 1rem;border-radius:6px;font-size:0.8rem;cursor:pointer;transition:0.2s; }
        .filter-btn:hover{background:var(--primary);color:var(--text);border-color:var(--primary);}
        .filter-btn.active { background:var(--secondary);color:#fff;border-color:var(--secondary); }
        table { width:100%;border-collapse:collapse; }
        th { text-align:left;padding:0.75rem 1rem;background:var(--hover);color:var(--text2);font-weight:500;font-size:0.75rem;text-transform:uppercase;cursor:pointer;transition:0.2s; }
        th:hover { color:var(--text);background:var(--primary); }
        td { padding:1rem;border-bottom:1px solid var(--border); }
        tr { transition:0.2s;cursor:pointer; }
        tr:hover td { background:var(--hover); }
        tr:hover td:first-child { border-left:3px solid var(--secondary); }
        .status-badge { display:inline-flex;padding:0.25rem 0.75rem;border-radius:20px;font-size:0.75rem;font-weight:500; }
        .status-badge.pass{background:rgba(76,175,80,0.2);color:var(--success)}
        .status-badge.fail{background:rgba(244,67,54,0.2);color:var(--danger)}
        .cf-value{font-weight:600}
        .cf-value.positive{color:var(--success)}.cf-value.negative{color:var(--danger)}
        .modal-overlay { display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.8);z-index:1000;align-items:center;justify-content:center;padding:1rem; }
        .modal-overlay.active { display:flex; }
        .modal { background:var(--card-bg);border:2px solid var(--border);border-radius:16px;width:100%;max-width:700px;max-height:90vh;overflow-y:auto;animation:slideIn 0.3s ease; }
        @keyframes slideIn{from{transform:translateY(-20px);opacity:0;}to{transform:translateY(0);opacity:1;}}
        .modal-header { padding:1.5rem;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:flex-start; }
        .modal-title { font-size:1.25rem;font-weight:600; }
        .modal-subtitle { color:var(--text2);font-size:0.875rem; }
        .modal-close { background:transparent;border:none;color:var(--text2);font-size:1.5rem;cursor:pointer;padding:0.25rem; }
        .modal-close:hover { color:var(--danger); }
        .modal-body { padding:1.5rem; }
        .detail-grid { display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin-bottom:1.5rem; }
        .detail-card { background:var(--hover);border-radius:8px;padding:1rem; }
        .detail-label { font-size:0.7rem;color:var(--text2);text-transform:uppercase; }
        .detail-value { font-size:1.25rem;font-weight:600; }
        .detail-value.success{color:var(--success)}.detail-value.danger{color:var(--danger)}
        .analysis-section { background:var(--hover);border-radius:8px;padding:1rem;margin-bottom:1rem; }
        .analysis-section h4 { font-size:0.875rem;margin-bottom:0.75rem;color:var(--text2); }
        .analysis-row { display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid var(--border); }
        .analysis-row:last-child { border:none; }
        .analysis-label { color:var(--text2); }
        .analysis-value { font-weight:500; }
        .footer { text-align:center;padding:2rem;color:var(--text2);font-size:0.75rem;border-top:1px solid var(--border);margin-top:2rem; }
    </style>
</head>
<body>
    <header class="header">
        <div style="display:flex;align-items:center;gap:1rem;">
            <div class="logo">üè†</div>
            <div class="title">
                <h1>Fort Worth Property Scout</h1>
                <p>Real Estate Investment Analyzer</p>
            </div>
        </div>
    </header>
    <nav class="nav">
        <button class="active">üìä Overview</button>
        <button>üè† Properties</button>
        <button>üí∞ Analysis</button>
        <button>üìà Market</button>
    </nav>
    <main class="main">
        <div class="kpi-grid">
            <div class="kpi-card" title="Click to see breakdown">
                <div class="kpi-label">üìä Total Properties</div>
                <div class="kpi-value" id="kpi-total">0</div>
                <div class="kpi-change up">‚Üë Last scan: Today</div>
                <div class="kpi-details">
                    <h4>üìä Property Breakdown</h4>
                    <p>SFR: <strong>8</strong> | Duplex: <strong>3</strong> | Multi: <strong>1</strong></p>
                    <p>Under $300K: <strong>4</strong></p>
                </div>
            </div>
            <div class="kpi-card">
                <div class="kpi-label">üíµ Under Budget</div>
                <div class="kpi-value accent" id="kpi-under">0</div>
                <div class="kpi-change">Under $250K</div>
                <div class="kpi-details">
                    <h4>üíµ Price Breakdown</h4>
                    <p>$100K-$150K: <strong>0</strong></p>
                    <p>$150K-$200K: <strong>2</strong></p>
                    <p>$200K-$250K: <strong>5</strong></p>
                </div>
            </div>
            <div class="kpi-card">
                <div class="kpi-label">‚úÖ Passing Criteria</div>
                <div class="kpi-value success" id="kpi-pass">0</div>
                <div class="kpi-change up">‚Üë $200+ CF & 8%+ CoC</div>
                <div class="kpi-details">
                    <h4>‚úÖ Investment Criteria</h4>
                    <p>Cash Flow: ‚â•$200/mo</p>
                    <p>CoC Return: ‚â•8%</p>
                    <p>Beds: 2+</p>
                </div>
            </div>
            <div class="kpi-card">
                <div class="kpi-label">üìà Avg Cash Flow</div>
                <div class="kpi-value danger" id="kpi-cf">0</div>
                <div class="kpi-change down">‚Üì Per month</div>
                <div class="kpi-details">
                    <h4>üìà Analysis</h4>
                    <p>Current prices too high</p>
                    <p>Need: &lt;$150K for SFR</p>
                    <p>Need: &lt;$210K for duplex</p>
                </div>
            </div>
        </div>
        <div class="charts-grid">
            <div class="chart-card">
                <div class="chart-title">Price Distribution <span class="chart-hint">üëÜ Click bar to filter</span></div>
                <div class="bar-chart" id="priceChart"></div>
            </div>
            <div class="chart-card">
                <div class="chart-title">Investment Pass/Fail <span class="chart-hint">üëÜ Click to filter</span></div>
                <div class="bar-chart" id="passChart"></div>
            </div>
            <div class="chart-card">
                <div class="chart-title">Cash Flow by Type <span class="chart-hint">üëÜ Click type to filter</span></div>
                <div class="bar-chart" id="cfChart"></div>
            </div>
            <div class="chart-card">
                <div class="chart-title">Properties Overview <span class="chart-hint">üëÜ Click to see details</span></div>
                <div class="bar-chart" id="pvChart"></div>
            </div>
        </div>
        <div class="table-card">
            <div class="table-header">
                <div style="font-weight:600;">üìã Property Details <span style="font-weight:normal;color:var(--text2);font-size:0.8rem;">(üëÜ Click row for full analysis)</span></div>
                <div class="table-filters">
                    <button class="filter-btn active" onclick="filter('all',this)">All</button>
                    <button class="filter-btn" onclick="filter('pass',this)">Passing</button>
                    <button class="filter-btn" onclick="filter('fail',this)">Failing</button>
                    <button class="filter-btn" onclick="filter('SFR',this)">SFR</button>
                    <button class="filter-btn" onclick="filter('Duplex',this)">Duplex</button>
                </div>
            </div>
            <table>
                <thead><tr><th onclick="sort(0)">Address ‚Üï</th><th onclick="sort(1)">Type ‚Üï</th><th onclick="sort(2)">Price ‚Üï</th><th>Beds</th><th>Rent</th><th onclick="sort(5)">CF ‚Üï</th><th>CoC</th><th>Status</th></tr></thead>
                <tbody id="tableBody"></tbody>
            </table>
        </div>
    </main>
    <footer class="footer">Fort Worth Property Scout | Updated: Feb 25, 2026</footer>
    <div class="modal-overlay" id="modal">
        <div class="modal">
            <div class="modal-header">
                <div><div class="modal-title" id="mAddr"></div><div class="modal-subtitle" id="mArea"></div></div>
                <button class="modal-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="detail-grid">
                    <div class="detail-card"><div class="detail-label">Price</div><div class="detail-value" id="mPrice"></div></div>
                    <div class="detail-card"><div class="detail-label">Type</div><div class="detail-value" id="mType"></div></div>
                    <div class="detail-card"><div class="detail-label">Beds</div><div class="detail-value" id="mBeds"></div></div>
                    <div class="detail-card"><div class="detail-label">Baths</div><div class="detail-value" id="mBaths"></div></div>
                    <div class="detail-card"><div class="detail-label">SqFt</div><div class="detail-value" id="mSqft"></div></div>
                    <div class="detail-card"><div class="detail-label">Rent</div><div class="detail-value" id="mRent"></div></div>
                </div>
                <div class="analysis-section">
                    <h4>üí∞ Investment Analysis (with $100K down)</h4>
                    <div class="analysis-row"><span class="analysis-label">Down Payment</span><span class="analysis-value" id="mDown">$100,000</span></div>
                    <div class="analysis-row"><span class="analysis-label">Loan Amount</span><span class="analysis-value" id="mLoan">$0</span></div>
                    <div class="analysis-row"><span class="analysis-label">Mortgage (7%, 30yr)</span><span class="analysis-value" id="mMortgage">$0</span></div>
                    <div class="analysis-row"><span class="analysis-label">Operating Expenses (50%)</span><span class="analysis-value" id="mOpEx">$0</span></div>
                    <div class="analysis-row"><span class="analysis-label">Property Tax (1.9%)</span><span class="analysis-value" id="mTax">$0</span></div>
                </div>
                <div class="analysis-section">
                    <h4>üìä Returns</h4>
                    <div class="analysis-row"><span class="analysis-label">Monthly Cash Flow</span><span class="analysis-value" id="mCF">$0</span></div>
                    <div class="analysis-row"><span class="analysis-label">Annual Cash Flow</span><span class="analysis-value" id="mAnnual">$0</span></div>
                    <div class="analysis-row"><span class="analysis-label">Cash on Cash Return</span><span class="analysis-value" id="mCoC">0%</span></div>
                    <div class="analysis-row"><span class="analysis-label">Cap Rate</span><span class="analysis-value" id="mCap">0%</span></div>
                </div>
                <div class="analysis-section" id="mVerdict"></div>
            </div>
        </div>
    </div>
    <script>
        const properties = [
            {address:"4516 Rutland Ave, Fort Worth 76133",price:215000,beds:2,baths:1,sqft:1080,type:"SFR",rent:1200,zip:"76133",area:"Wedgwood"},
            {address:"5521 Lubbock Ave, Fort Worth 76133",price:250000,beds:3,baths:2,sqft:1295,type:"SFR",rent:1500,zip:"76133",area:"Wedgwood"},
            {address:"2847 W Seminary Dr, Fort Worth",price:285000,beds:4,baths:2,sqft:2400,type:"Duplex",rent:2800,zip:"76134",area:"South Worth"},
            {address:"7652 Colorado Creek, Fort Worth",price:212000,beds:4,baths:2,sqft:2400,type:"Duplex",rent:2602,zip:"76133",area:"Wedgwood"},
            {address:"8812 Texas Risinger, Fort Worth",price:203000,beds:3,baths:2,sqft:1800,type:"SFR",rent:2400,zip:"76134",area:"South Worth"},
            {address:"168 Bovine Dr, Newark",price:315000,beds:3,baths:2,sqft:1658,type:"SFR",rent:1600,zip:"76071",area:"Newark"},
            {address:"6520 Kary Lynn Dr, Watauga",price:320000,beds:3,baths:2,sqft:1481,type:"SFR",rent:1500,zip:"76148",area:"Watauga"},
            {address:"144 Wenham Way, Forney",price:368000,beds:3,baths:2,sqft:1884,type:"SFR",rent:1800,zip:"75126",area:"Forney"},
            {address:"5113 Bob Dr, Fort Worth",price:170000,beds:2,baths:1,sqft:950,type:"SFR",rent:1407,zip:"76112",area:"Meadowbrook"},
            {address:"9201 Apache, Fort Worth",price:195000,beds:3,baths:2,sqft:1400,type:"SFR",rent:1600,zip:"76133",area:"Wedgwood"},
            {address:"3456 Parker Rd, Crowley",price:245000,beds:3,baths:2,sqft:1600,type:"SFR",rent:1700,zip:"76036",area:"Crowley"},
            {address:"7800 Eter Dr, Fort Worth",price:275000,beds:4,baths:2.5,sqft:2200,type:"Multi",rent:3200,zip:"76134",area:"South Worth"}
        ];
        const DOWN=100000,RATE=0.07,TAX=0.019;
        properties.forEach(p=>{
            const loan=p.price>DOWN?p.price-DOWN:0;
            const m=RATE/12,n=360;
            p.loan=loan;p.mortgage=loan>0?loan*m*Math.pow(1+m,n)/(Math.pow(1+m,n)-1):0;
            p.opEx=p.rent*0.5;p.tax=p.price*TAX/12;
            p.cf=p.rent-p.opEx-p.tax-p.mortgage;p.coc=p.cf*12/DOWN*100;
            p.cap=((p.rent-p.opEx-p.tax)*12/p.price)*100;
            p.passes=p.cf>=200&&p.coc>=8;
        });
        let currentFilter='all',sortCol=-1,sortAsc=true;
        function update(){
            const total=properties.length,under=properties.filter(p=>p.price<=250000).length;
            const pass=properties.filter(p=>p.passes).length;
            const avg=properties.reduce((s,p)=>s+p.cf,0)/total;
            document.getElementById('kpi-total').textContent=total;
            document.getElementById('kpi-under').textContent=under;
            document.getElementById('kpi-pass').textContent=pass;
            document.getElementById('kpi-cf').textContent='$'+(avg>=0?'+':'')+Math.round(avg);
            document.getElementById('kpi-cf').className='kpi-value '+(avg>=0?'success':'danger');
            renderCharts();renderTable();
        }
        function renderCharts(){
            const ranges=['<$150K','$150K-$200K','$200K-$250K','$250K-$300K','>$300K'],counts=[0,0,0,0,0];
            properties.forEach(p=>{if(p.price<150000)counts[0]++;else if(p.price<200000)counts[1]++;else if(p.price<250000)counts[2]++;else if(p.price<300000)counts[3]++;else counts[4]++;});
            document.getElementById('priceChart').innerHTML=ranges.map((r,i)=>`<div class="bar-row" title="Click to filter by ${r}"><div class="bar-label">${r}</div><div class="bar-container" onclick="filter('${r.replace('$','').replace('<','')}',null)"><div class="bar-fill" style="width:${counts[i]?counts[i]/Math.max(...counts)*100:0}%">${counts[i]}</div></div><div class="bar-count">${counts[i]}</div></div>`).join('');
            const pc=properties.filter(p=>p.passes).length;
            document.getElementById('passChart').innerHTML=[`Pass (${pc})`,`Fail (${properties.length-pc})`].map((l,i)=>`<div class="bar-row" title="Click to show ${l} properties"><div class="bar-label">${l}</div><div class="bar-container" onclick="filter('${i===0?'pass':'fail'}',null)"><div class="bar-fill" style="width:${(i===0?pc:properties.length-pc)/properties.length*100}%;background:${i===0?'var(--secondary)':'var(--danger)'}">${i===0?pc:properties.length-pc}</div></div></div>`).join('');
            const types=['SFR','Duplex','Multi'];
            document.getElementById('cfChart').innerHTML=types.map(t=>{const ps=properties.filter(p=>p.type===t),avg=ps.length?ps.reduce((s,p)=>s+p.cf,0)/ps.length:0;return`<div class="bar-row" title="Click to show only ${t}"><div class="bar-label">${t} (${ps.length})</div><div class="bar-container" onclick="filter('${t}',null)"><div class="bar-fill" style="width:${Math.abs(avg)/800*100}%;background:${avg>=0?'var(--secondary)':'var(--danger)'}">$${Math.round(avg)}</div></div></div>`}).join('');
            document.getElementById('pvChart').innerHTML=properties.map(p=>`<div class="bar-row" title="Click for ${p.address.split(',')[0]} details"><div class="bar-label" style="width:180px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis">${p.address.split(',')[0]}</div><div class="bar-container" onclick="openM(${properties.indexOf(p)})"><div class="bar-fill" style="width:${(p.price/400000)*100}%;background:${p.passes?'var(--secondary)':'var(--danger)'}">$${Math.round(p.cf)} CF</div></div></div>`).join('');
        }
        function renderTable(){
            let ps=[...properties];
            if(currentFilter==='pass')ps=ps.filter(p=>p.passes);
            else if(currentFilter==='fail')ps=ps.filter(p=>!p.passes);
            else if(currentFilter==='SFR'||currentFilter==='Duplex')ps=ps.filter(p=>p.type===currentFilter);
            if(sortCol>=0){const k=['address','type','price','beds','rent','cf','coc'][sortCol];ps.sort((a,b)=>sortAsc?a[k]-b[k]:b[k]-a[k]);}
            document.getElementById('tableBody').innerHTML=ps.map(p=>`<tr onclick="openM(${properties.indexOf(p)})" title="Click for full analysis of ${p.address.split(',')[0]}"><td>${p.address.split(',')[0]}<div style="font-size:0.7rem;color:var(--text2)">${p.area}</div></td><td>${p.type}</td><td>$${p.price.toLocaleString()}</td><td>${p.beds}</td><td>$${p.rent}</td><td class="cf-value ${p.cf>=0?'positive':'negative'}">$${Math.round(p.cf)}</td><td>${p.coc.toFixed(1)}%</td><td><span class="status-badge ${p.passes?'pass':'fail'}">${p.passes?'PASS':'FAIL'}</span></td></tr>`).join('');
        }
        function filter(f,btn){currentFilter=f;document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'));if(btn)btn.classList.add('active');renderTable();}
        function sort(c){if(sortCol===c)sortAsc=!sortAsc;else{sortCol=c;sortAsc=true}renderTable();}
        function openM(i){
            const p=properties[i];
            document.getElementById('mAddr').textContent=p.address.split(',')[0];
            document.getElementById('mArea').textContent=p.area+' ('+p.zip+')';
            document.getElementById('mPrice').textContent='$'+p.price.toLocaleString();
            document.getElementById('mType').textContent=p.type;
            document.getElementById('mBeds').textContent=p.beds;
            document.getElementById('mBaths').textContent=p.baths;
            document.getElementById('mSqft').textContent=p.sqft.toLocaleString();
            document.getElementById('mRent').textContent='$'+p.rent;
            document.getElementById('mLoan').textContent='$'+Math.round(p.loan).toLocaleString();
            document.getElementById('mMortgage').textContent='$'+Math.round(p.mortgage);
            document.getElementById('mOpEx').textContent='$'+Math.round(p.opEx);
            document.getElementById('mTax').textContent='$'+Math.round(p.tax);
            const cf=document.getElementById('mCF'),an=document.getElementById('mAnnual');
            cf.textContent='$'+Math.round(p.cf);cf.className='detail-value '+(p.cf>=0?'success':'danger');
            an.textContent='$'+Math.round(p.cf*12).toLocaleString();
            document.getElementById('mCoC').textContent=p.coc.toFixed(1)+'%';
            document.getElementById('mCap').textContent=p.cap.toFixed(1)+'%';
            const v=document.getElementById('mVerdict');
            if(p.passes){v.innerHTML='‚úÖ PASSES - Meets investment criteria ($'+Math.round(p.cf)+'/mo, '+p.coc.toFixed(1)+'% CoC)';v.style.cssText='padding:1rem;border-radius:8px;text-align:center;font-weight:600;background:rgba(76,175,80,0.2);color:#4CAF50';}
            else{v.innerHTML='‚ùå FAILS - $'+Math.round(p.cf)+'/mo needed to meet $200 criteria';v.style.cssText='padding:1rem;border-radius:8px;text-align:center;font-weight:600;background:rgba(244,67,54,0.2);color:#F44336';}
            document.getElementById('modal').classList.add('active');
        }
        function closeModal(){document.getElementById('modal').classList.remove('active');}
        document.getElementById('modal').addEventListener('click',e=>{if(e.target.id==='modal')closeModal();});
        update();
    </script>
</body>
</html>
